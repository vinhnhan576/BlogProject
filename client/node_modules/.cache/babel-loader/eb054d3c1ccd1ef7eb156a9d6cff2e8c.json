{"ast":null,"code":"import React,{useRef}from\"react\";import BlogCard from\"./BlogCard\";import{Link}from\"react-router-dom\";import alt from\"../assets/image/blog/alt.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Topic(props){// const dispatch = useDispatch();\n// const userID = 13;\n// const topicID = props.id;\n// const allBlogs = useSelector((state) => state.blog);\n// useEffect(() => {\n// \tdispatch(getAllBlogsByUserIDAsync(userID));\n// }, [dispatch, userID]);\n// const allBlogsByTopic = allBlogs?.filter((blog) => blog.topicID === topicID);\nvar allBlogsByTopic=props.blogs;var first2BlogsByTopic;var bodyImageRef=useRef();var onImgLoad=function onImgLoad(_ref){var img=_ref.target;var offsetHeight=img.offsetHeight,offsetWidth=img.offsetWidth;if(offsetWidth>offsetHeight)bodyImageRef.current.classList.add(\"landscape\");else bodyImageRef.current.classList.add(\"portrait\");};if(window.matchMedia(\"(max-width: 500px)\").matches){first2BlogsByTopic=allBlogsByTopic.slice(0,2);}else{first2BlogsByTopic=allBlogsByTopic.slice(1,3);}var mainBlog=allBlogsByTopic[0];var allPostsElements=first2BlogsByTopic.map(function(blog){return/*#__PURE__*/ (// eslint-disable-next-line react/jsx-pascal-case\n_jsx(BlogCard,{id:blog._id,img:blog.coverImg,content:blog.content,title:blog.title,slug:blog.slug,alias:props.alias},blog._id));});return/*#__PURE__*/_jsxs(\"div\",{className:\"topicCard\",id:props.id,children:[/*#__PURE__*/_jsx(\"div\",{className:\"topic\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"topic__title\",children:[props.index%2===0&&/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.alias,\"/topic/\").concat(props.slug),children:props.topicName.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"topic__line\"}),props.index%2===1&&/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.alias,\"/topic/\").concat(props.slug),children:props.topicName.toUpperCase()})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"featured-blogs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\".concat(props.alias,\"/blog/\").concat(mainBlog===null||mainBlog===void 0?void 0:mainBlog.slug),children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__image\",children:/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__image__container\",ref:bodyImageRef,children:(mainBlog===null||mainBlog===void 0?void 0:mainBlog.coverImg)!==''&&typeof(mainBlog===null||mainBlog===void 0?void 0:mainBlog.coverImg)!=='undefined'?/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:'data:image/jpg;base64,'+mainBlog.coverImg.toString('base64'),alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:alt,alt:\"\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"featured-blogs__main-blog__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__content__border\"}),/*#__PURE__*/_jsx(\"h3\",{children:mainBlog===null||mainBlog===void 0?void 0:mainBlog.title}),/*#__PURE__*/_jsx(\"p\",{children:mainBlog===null||mainBlog===void 0?void 0:mainBlog.content})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:allPostsElements})]})]});}","map":{"version":3,"names":["React","useRef","BlogCard","Link","alt","Topic","props","allBlogsByTopic","blogs","first2BlogsByTopic","bodyImageRef","onImgLoad","img","target","offsetHeight","offsetWidth","current","classList","add","window","matchMedia","matches","slice","mainBlog","allPostsElements","map","blog","_id","coverImg","content","title","slug","alias","id","index","topicName","toUpperCase","toString"],"sources":["D:/Code/HTML/BlogProject/client/src/components/Topic.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport BlogCard from \"./BlogCard\";\r\nimport { Link } from \"react-router-dom\";\r\nimport alt from \"../assets/image/blog/alt.jpg\";\r\n\r\nexport default function Topic(props) {\r\n\t// const dispatch = useDispatch();\r\n\t// const userID = 13;\r\n\t// const topicID = props.id;\r\n\t// const allBlogs = useSelector((state) => state.blog);\r\n\t// useEffect(() => {\r\n\t// \tdispatch(getAllBlogsByUserIDAsync(userID));\r\n\t// }, [dispatch, userID]);\r\n\t// const allBlogsByTopic = allBlogs?.filter((blog) => blog.topicID === topicID);\r\n\tconst allBlogsByTopic = props.blogs;\r\n\tvar first2BlogsByTopic;\r\n\tconst bodyImageRef = useRef();\r\n\tconst onImgLoad = ({ target: img }) => {\r\n\t\tconst { offsetHeight, offsetWidth } = img;\r\n\t\tif (offsetWidth > offsetHeight)\r\n\t\t\tbodyImageRef.current.classList.add(\"landscape\");\r\n\t\telse bodyImageRef.current.classList.add(\"portrait\");\r\n\t};\r\n\r\n\tif (window.matchMedia(\"(max-width: 500px)\").matches) {\r\n\t\tfirst2BlogsByTopic = allBlogsByTopic.slice(0, 2);\r\n\t} else {\r\n\t\tfirst2BlogsByTopic = allBlogsByTopic.slice(1, 3);\r\n\t}\r\n\tconst mainBlog = allBlogsByTopic[0];\r\n\r\n\tconst allPostsElements = first2BlogsByTopic.map((blog) => {\r\n\t\treturn (\r\n            // eslint-disable-next-line react/jsx-pascal-case\r\n            <BlogCard\r\n                key={blog._id}\r\n                id={blog._id}\r\n                img={blog.coverImg}\r\n                content={blog.content}\r\n                title={blog.title}\r\n                slug={blog.slug}\r\n                alias={props.alias}\r\n            />\r\n        );\r\n\t});\r\n\r\n\treturn (\r\n        <div className=\"topicCard\" id={props.id}>\r\n            <div className=\"topic\">\r\n                <div className=\"topic__title\">\r\n                    {props.index % 2 === 0 && (\r\n                        <Link to={`/${props.alias}/topic/${props.slug}`}>\r\n                            {props.topicName.toUpperCase()}\r\n                        </Link>\r\n                    )}\r\n                    <div className=\"topic__line\"></div>\r\n                    {props.index % 2 === 1 && (\r\n                        <Link to={`/${props.alias}/topic/${props.slug}`}>\r\n                            {props.topicName.toUpperCase()}\r\n                        </Link>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <div className=\"featured-blogs\">\r\n                <div className=\"featured-blogs__main-blog\">\r\n                    <Link to={`/${props.alias}/blog/${mainBlog?.slug}`}>\r\n                        <div className=\"featured-blogs__main-blog__image\">\r\n                            <div\r\n                                className=\"featured-blogs__main-blog__image__container\"\r\n                                ref={bodyImageRef}\r\n                            >\r\n                                {mainBlog?.coverImg !== '' &&\r\n                                typeof mainBlog?.coverImg !== 'undefined' ? (\r\n                                    <img\r\n                                        onLoad={onImgLoad}\r\n                                        src={'data:image/jpg;base64,' + mainBlog.coverImg.toString('base64')}\r\n                                        alt=\"\"\r\n                                    />\r\n                                ) : (\r\n                                    <img onLoad={onImgLoad} src={alt} alt=\"\" />\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"featured-blogs__main-blog__content\">\r\n                            <div className=\"featured-blogs__main-blog__content__border\"></div>\r\n                            <h3>{mainBlog?.title}</h3>\r\n                            <p>{mainBlog?.content}</p>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n                <div>{allPostsElements}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}