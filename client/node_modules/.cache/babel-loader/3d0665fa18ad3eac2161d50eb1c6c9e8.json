{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport Axios from 'axios';\nimport serverUrl from '../common';\nconst userUrl = 'api/user';\nexport const getUserByUsernameAsync = createAsyncThunk('api/user/getUserByUsernameAsync', async _ref => {\n  let {\n    username\n  } = _ref;\n  const response = await Axios.get(`${serverUrl}${userUrl}/get-user-by-username?username=${username}`);\n  const tasks = response.data;\n  return {\n    tasks\n  };\n});\nexport const updateUserAsync = createAsyncThunk('', async _ref2 => {\n  let {\n    id,\n    userReq\n  } = _ref2;\n  const formData = new FormData();\n  userReq.name && formData.append('name', userReq.name);\n  userReq.alias && formData.append('alias', userReq.alias);\n  userReq.gender && formData.append('gender', userReq.gender);\n  userReq.date && formData.append('date', userReq.date);\n  userReq.tel && formData.append('tel', userReq.tel);\n  userReq.job && formData.append('job', userReq.job);\n  userReq.address && formData.append('address', userReq.address);\n  userReq.email && formData.append('email', userReq.email);\n  userReq.profilepic && formData.append('profilepic', userReq.profilepic);\n  userReq.upperpic && formData.append('upperpic', userReq.upperpic);\n  userReq.lowerpic && formData.append('lowerpic', userReq.lowerpic);\n  console.log(userReq.profilepic);\n  const response = await Axios.put(`${serverUrl}${userUrl}/update-user?id=${id}`, formData);\n  const tasks = response.data;\n  return {\n    tasks\n  };\n});\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    user: null\n  },\n  reducers: {},\n  extraReducers: {\n    [getUserByUsernameAsync.fulfilled]: (state, action) => {\n      console.log('get user by username successfully'); // state.user = action.payload.tasks;\n\n      return action.payload.tasks.result;\n    }\n  }\n});\nexport const {} = userSlice.actions;\nexport const selectUser = state => state.user.user;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","serverUrl","userUrl","getUserByUsernameAsync","username","response","get","tasks","data","updateUserAsync","id","userReq","formData","FormData","name","append","alias","gender","date","tel","job","address","email","profilepic","upperpic","lowerpic","console","log","put","userSlice","initialState","user","reducers","extraReducers","fulfilled","state","action","payload","result","actions","selectUser","reducer"],"sources":["D:/Code/HTML/BlogProject/client/src/features/user/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport serverUrl from '../common';\r\n\r\nconst userUrl = 'api/user';\r\n\r\nexport const getUserByUsernameAsync = createAsyncThunk(\r\n    'api/user/getUserByUsernameAsync',\r\n    async ({ username }) => {\r\n        const response = await Axios.get(\r\n            `${serverUrl}${userUrl}/get-user-by-username?username=${username}`\r\n        );\r\n        const tasks = response.data;\r\n        return { tasks };\r\n    }\r\n);\r\n\r\nexport const updateUserAsync = createAsyncThunk('', async ({ id, userReq }) => {\r\n    const formData = new FormData();\r\n    userReq.name && formData.append('name', userReq.name);\r\n    userReq.alias && formData.append('alias', userReq.alias);\r\n    userReq.gender && formData.append('gender', userReq.gender);\r\n    userReq.date && formData.append('date', userReq.date);\r\n    userReq.tel && formData.append('tel', userReq.tel);\r\n    userReq.job && formData.append('job', userReq.job);\r\n    userReq.address && formData.append('address', userReq.address);\r\n    userReq.email && formData.append('email', userReq.email);\r\n    userReq.profilepic && formData.append('profilepic', userReq.profilepic);\r\n    userReq.upperpic && formData.append('upperpic', userReq.upperpic);\r\n    userReq.lowerpic && formData.append('lowerpic', userReq.lowerpic);\r\n    console.log(userReq.profilepic);\r\n    const response = await Axios.put(\r\n        `${serverUrl}${userUrl}/update-user?id=${id}`,\r\n        formData\r\n    );\r\n    const tasks = response.data;\r\n    return { tasks };\r\n});\r\n\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState: {\r\n        user: null,\r\n    },\r\n    reducers: {},\r\n    extraReducers: {\r\n        [getUserByUsernameAsync.fulfilled]: (state, action) => {\r\n            console.log('get user by username successfully');\r\n            // state.user = action.payload.tasks;\r\n            return action.payload.tasks.result;\r\n        },\r\n    },\r\n});\r\n\r\nexport const {} = userSlice.actions;\r\n\r\nexport const selectUser = (state) => state.user.user;\r\n\r\nexport default userSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}